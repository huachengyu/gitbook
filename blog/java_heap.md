### Java内存区域解析
@Date 2017.05.24

> 概念介绍(基于JDK7)

* 堆(分代收集算法)
    1. 新生代
        * Eden区
            * 存储新对象或者生命周期很短的对象
        * From Survivor区
            * Eden区的垃圾回收仍能存活下来的依旧存在引用的对象会待在这个区域
        * To Survivor区
            * Eden区的垃圾回收仍能存活下来的依旧存在引用的对象会待在这个区域
    2. 老年代
        * Eden区和Survivor区的多次GC后仍然存活下来的对象 - major GC
* 方法区(Non-Heap(非堆))
    1. 持久代
        * 各个线程共享的内存区域
        * 存储已被虚拟机加载的类信息、方法（数据及代码）、常量、静态变量、即时编译器编译后的代码等数据
    2. 运行时常量池(Runtime Constant Pool)
        * 存放编译期生成的各种字面量和符号引用
* 栈
    1. JVM栈
        * 存储局部变量以及方法调用的中间结果及返回值
        * 每个线程都有自己专属的栈，这个栈是别的线程无法访问的
    2. 本地栈
        * 本地方法（非Java代码）
* 寄存器
    * 特定线程的程序计数器
    * JVM执行的指令地址

> 持久代 --> 元空间 (JDK8)

* 元空间
    1. 本地堆内存中的一部分
    2. 达到最大阈值时进行该区域清理
    3. 类及相关的元数据的生命周期与类加载器的一致
    4. 使用-XX:MaxMetaspaceSize参数可以设置元空间的最大值
    5. 默认是没有上限的,系统内存上限是多少它就是多少
    6. 达到设定的最大值后,对于无用的类和类加载器，垃圾收集此时会触发